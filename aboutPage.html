<!DOCTYPE html>
<html lang="en">
<head>
  <title>About</title>
  <meta charset="utf-8">
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css" integrity="sha384-Gn5384xqQ1aoWXA+058RXPxPg6fy4IWvTNh0E263XmFcJlSAwiGgFAW/dAiS6JXm" crossorigin="anonymous">
  <script src="https://code.jquery.com/jquery-3.2.1.slim.min.js" integrity="sha384-KJ3o2DKtIkvYIK3UENzmM7KCkRr/rE9/Qpg6aAZGJwFDMVNA/GpGFF93hXpG5KkN" crossorigin="anonymous"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.12.9/umd/popper.min.js" integrity="sha384-ApNbgh9B+Y1QKtv3Rn7W3mgPxhU9K/ScQsAP7hUibX39j7fakFPskvXusvfa0b4Q" crossorigin="anonymous"></script>
  <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/js/bootstrap.min.js" integrity="sha384-JZR6Spejh4U02d8jOt6vLEHfe/JQGiRRSQQxSfFWpi1MquVdAyjUar5+76PVCmYl" crossorigin="anonymous"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/2.9.3/Chart.bundle.min.js"></script>
  <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.7.0/css/all.css" integrity="sha384-lZN37f5QGtY3VHgisS14W3ExzMWZxybE1SJSEsQp9S+oqd12jhcu+A56Ebc1zFSJ" crossorigin="anonymous">
  <link href="https://getbootstrap.com/docs/4.0/examples/sticky-footer-navbar/sticky-footer-navbar.css" rel="stylesheet">
  <link href="/stylesheets/style.css" rel="stylesheet">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/2.9.3/Chart.bundle.min.js"></script>
</head>
<body>

    <body>
    <nav class="navbar navbar-expand-lg navbar-dark" style="background-color: black;">
        <a class="navbar-brand" href="/">GameDB</a>

        <div class="navbar-nav">
            <ul class="navbar-nav mr-auto">
                <li class="nav-item">
                    <a class="nav-link" href="/">Home</a>
                </li>
                <li class="nav-item">
                    <a class="nav-link" href="/games">Games</a>
                </li>
                <li class="nav-item">
                    <a class="nav-link" href="/developers">Developers</a>
                </li>
                <li class="nav-item">
                    <a class="nav-link" href="/publishers">Publishers</a>
                </li>
                <li class="nav-item">
                    <a class="nav-link" href="/news">News</a>
                </li>
                <li class="nav-item">
                    <a class="nav-link" href="/about">About</a>
                </li>
            </ul>
        </div>

        <div class="navbar-nav mx-auto">
            <form class="form-inline">
                <input style="width:600px;" class="form-control mr-sm-2" type="search" placeholder="Search for your favorite games!" aria-label="Search">
            </form>
        </div>

        <div class="navbar-nav ml-auto">
            <a href="/login"><button class="btn btn-light"><i class="fas fa-sign-in-alt"></i> Log In </button></a>
            <div>
    </nav>

    <script>
        nameList = ["team", "Albert Garza", "Numan Habib", "John Nguyen", "Alejandro Rodriguez", "David Wolf"]
        commitIdList = ["teamCommits", "albertCommits", "numanCommits", "johnCommits", "alejandroCommits", "davidCommits"]
        issueIdList = ["teamIssues", "albertIssues", "numanIssues", "johnIssues", "alejandroIssues", "davidIssues"]
        githubIdList = ["team", "possumrapture", "numan201", "johnnguyen3196", "JOHNATHAN", "rambisco"]
        numberOfCommits = [0,0,0,0,0,0]
// Add Alejandro's github ID
        async function getCommits() {
            for(index = 0; index < githubIdList.length; index++) {
                url = "https://api.github.com/search/commits?q="

                if(index !== 0) {
                    url += "author:" + githubIdList[index] + " "
                }
                url += "repo:numan201/game-db author-date:2020-01-01..2020-06-01"

                const headers = {
                    "Accept" : "application/vnd.github.cloak-preview",
                    "Authorization" : 'Token 167452b9c98d1955991547da7eaf9fdd47e8f0a3'
                }

                response = await fetch(url, {
                "headers" : headers
                })
                const result = await response.json()

                if(index > 0)
                    while(document.getElementById(commitIdList[index - 1]).innerHTML.length == 0) {}

                numberOfCommits[index] = result.items.length
                document.getElementById(commitIdList[index]).innerHTML = result.items.length

                delay()
            }
        }


        async function getIssues() {
            for(idx = 0; idx < githubIdList.length; idx++) {
                url = "https://api.github.com/search/issues?q="

                if(idx !== 0) {
                    url += "author:" + githubIdList[idx] + " "
                }
                url += "repo:numan201/game-db type:issue"

                const response = await fetch(url, {
                    "Authorization" : 'Token 167452b9c98d1955991547da7eaf9fdd47e8f0a3'
                })
                const result = await response.json()

                if(idx > 0)
                    while(document.getElementById(issueIdList[idx - 1]).innerHTML.length == 0) {}

                document.getElementById(issueIdList[idx]).innerHTML = result.items.length

                delay()
            }
        }

        function delay() {
            b = 0
            while(b < 100000) {
                b++
            }
        }
    </script>

    <!--
    + Description of the site, its purpose, its intended users
    + Explains the interesting result produced by integrating disparate data sources
    + The group name
    + The group members
    + For each member: name, photo, bio, major/track, primary responsibilities, number of commits, number of issues, number of unit tests
    + Team Stats: total number of commits, total number of issues, total number of unit tests
    + Data: links to data sources, description of how each was scraped
    + Tools: tools used, description of how they were used
    + Link to Github repo
    -->
    <main class="container-fluid">
      <h1>game-db About Page</h1>
      <hr>
      <div class="row">
        <div class="col-4 text-center">
          <h2>Description</h2>
          <p> Neat Description </p>
        </div>
        <div class="col-4 text-center">
          <h2>Purpose</h2>
          <p> Why would people use this </p>
        </div>
        <div class="col-4 text-center">
          <h2>Intended Users</h2>
          <p> Gamers??? </p>
        </div>
      </div>
      <hr>
      <div class="container-fluid">
        <img class="rounded mx-auto d-block" src="resources/profile_pictures/group_photo.jpg" style="max-width:75%; height:auto;">
      </div>
      <div class="col text-center">
        <h2>Group Name</h2>
      </div>
      <script>
          getIssues()
      </script>
      <hr>
      <div class="card-deck">
        <div class="card" style="width: 18rem;">
          <img class="card-img-top" src="resources/profile_pictures/anon.png" alt="Card image">
          <h4 class ="card-title">Albert Garza</h4>
          <p class="card-text">
            Bio: likes to organize and shop
            <br>
            Major: Electrical and Computer Engineering
            <br>
            Primary responsibilities: About page and ReadMe Page
            <br>
            # of GitHub commits: <ins id="albertCommits" style="text-decoration: none;"> </ins>

            <br>
            # of GitHub issues: <ins id="albertIssues" style="text-decoration: none;"> </ins>

            <br>
            # of unit tests:
          </p>
        </div>
        <div class="card" style="width: 18rem;">
          <img class="card-img-top" src="resources/profile_pictures/anon.png" alt="Card image">
          <h4 class ="card-title">Numan Habib</h4>
          <p class="card-text">
            Bio:
            <br>
            Major:
            <br>
            Primary responsibilities:
            <br>
            # of GitHub commits: <ins id="numanCommits" style="text-decoration: none;"> </ins>
            <br>
            # of GitHub issues: <ins id="numanIssues" style="text-decoration: none;"> </ins>
            <br>
            # of unit tests:
          </p>
        </div>
        <div class="card" style="width: 18rem;">
          <img class="card-img-top" src="resources/profile_pictures/D Cane.jpg" alt="Card image">
          <h4 class ="card-title">John Nguyen</h4>
          <p class="card-text">
            Bio:
              <br>
              Major:
              <br>
              Primary responsibilities:
              <br>
              # of GitHub commits: <ins id="johnCommits" style="text-decoration: none;"> </ins>
              <br>
              # of GitHub issues: <ins id="johnIssues" style="text-decoration: none;"> </ins>
              <br>
              # of unit tests:
          </p>
        </div>
        <div class="card" style="width: 18rem;">
          <img class="card-img-top" src="resources/profile_pictures/anon.png" alt="Card image">
          <h4 class ="card-title">Alejandro Rodriguez</h4>
          <p class="card-text">
            Bio:
            <br>
            Major:
            <br>
            Primary responsibilities:
            <br>
            # of GitHub commits: <ins id="alejandroCommits" style="text-decoration: none;"> </ins>
            <br>
            # of GitHub issues: <ins id="alejandroIssues" style="text-decoration: none;"> </ins>
            <br>
            # of unit tests:
          </p>
        </div>
        <div class="card" style="width: 18rem;">
          <img class="card-img-top" src="resources/profile_pictures/anon.png" alt="Card image">
          <h4 class ="card-title">David Wolf</h4>
          <p class="card-text">
            Bio:
            <br>
            Major:
            <br>
            Primary responsibilities:
            <br>
            # of GitHub commits: <ins id="davidCommits" style="text-decoration: none;"> </ins>
            <br>
            # of GitHub issues: <ins id="davidIssues" style="text-decoration: none;"> </ins>
            <br>
            # of unit tests:
          </p>
        </div>
      </div>
    </div>

    <hr>

    <script>
        getCommits()
    </script>

    <canvas id="stats"></canvas>
    <script>
      var colors = ['#007bff','#28a745','#333333','#c3e6cb','#dc3545'];
      var chBar = document.getElementById("stats");
      if (chBar) {
        new Chart(chBar, {
        type: 'bar',
        data: {
          labels: ["Albert", "Numan", "John", "Alejandro", "David"],
          datasets: [{
            data: [7,6,6,0,0],
            backgroundColor: [colors[0],colors[1],colors[2],colors[3],colors[4]]
          }]
        },
        options: {
          legend: {
            display: false
          },
          scales: {
            xAxes: [{
              barPercentage: 0.4,
              categoryPercentage: 0.5,
              scaleLabel: {
                display: true,
                labelString: 'User'
              }
            }],
            yAxes:[{
              scaleLabel: {
                display: true,
                labelString: '# of Commits'
              }
            }]
          }
        }
        });
      }
    </script>

    <hr>

    <h2>Team Stats</h2>
    # of GitHub commits: <ins id="teamCommits" style="text-decoration: none;"> </ins>
    <br>
    # of GitHub issues: <ins id="teamIssues" style="text-decoration: none;"> </ins>
    <br>
    # of unit tests:


    <hr>

    <h2>Data</h2>
    <!-- links to data sources, description of how each was scraped -->
    <p>Links to data sources, description of how each was scraped</p>
    <a href="#">Link to Source</a>
    <hr>
    <h2>Tools</h2>
    <!-- tools used, description of how they were used -->
      <p>List of tools used</p>
    <hr>
    <h2>GitHub Repo Link</h2>
    <a href="https://github.com/numan201/game-db.git">Git Repo</a>

    <footer class="footer">
      <div class="container text-center">
        <span class="text-muted">GameDB</span>
      </div>
    </footer>
  </main>
</body>
</html>
