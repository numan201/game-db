<% include partials/header %>

<main class="container-fluid">
    <h1 class="mt-4"><%= developer.name %></h1>
    <hr>

    <h2 class="mt-4">Credited On:</h2>
    <hr>

    <div class="card-deck" style="display: grid; grid-template-columns: repeat(auto-fit, minmax(250px, 1fr)); grid-gap: 0.1rem;">
        <% games.forEach( (game, i) => {
            let gameUrl = "/game?id=" + game._id;
        %>
        <div class="card" style="margin-bottom: 15px">
            <a href="<%= gameUrl %>"><img class="card-img-top" src="<%= game.background_image %>"></a>
            <div class="card-body">
                <a style="color:#000;" href="<%= gameUrl %>"><h5 class="card-title"><%= game.name %></h5></a>
                <p class="card-text">Released <%= (game.released !== null) ? game.released.split('-')[0] : '?'%> | <%= game.reviews_count %> Reviews</p>
                <a href="<%= gameUrl %>" class="btn btn-primary">See More</a>
            </div>
        </div>
        <% }); %>
    </div>
    <br>

    <h2 class="mt-4">Publishers Worked With:</h2>
    <hr>

    <div class="card-deck" style="display: grid; grid-template-columns: repeat(auto-fit, minmax(250px, 1fr)); grid-gap: 0.1rem;">
        <% for(let publisher of publishers) {
            let publisherUrl = "/publisher?id=" + publisher._id;
        %>
        <div class="card" style="margin-bottom: 15px">
            <a href="<%= publisherUrl %>"><img class="card-img-top" src="<%= publisher.image_background %>"></a>
            <div class="card-body">
                <a style="color:#000;" href="<%= publisherUrl %>"><h5 class="card-title"><%= publisher.name %></h5></a>
                <p class="card-text">Published <%= publisher.games_count %> Games</p>
                <a href="<%= publisherUrl %>" class="btn btn-primary">See More</a>
            </div>
        </div>
        <% } %>
    </div>
    <br>

</main>

<% include partials/footer %>
